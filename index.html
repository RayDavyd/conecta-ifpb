<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ConectaIF</title>
    <link rel="stylesheet" href="style.css">
    <link rel="manifest" href="manifest.json">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <link rel="shortcut icon" href="Gemini_Generated_Image_qqepg7qqepg7qqep.png" type="image/x-icon">
</head>

<body>
    <header>
        <h1>ConectaIF</h1>
        <link rel="manifest" href="./manifest.json">
        <meta name="theme-color" content="#2E7D32">
        <link rel="apple-touch-icon" href="https://cdn-icons-png.flaticon.com/512/3135/3135715.png">

    </header>
    <button id="bt-instalar" style="display: none;">
        üì≤ INSTALAR APLICATIVO
    </button>

    <main>


        <a href="Teste1">
            <div class="card caest">
                <span class="material-icons-round" style="font-size: 40px; color: #e74c3c;">volunteer_activism</span>
                <h2> CAEST</h2>
                <p>Editais de aux√≠lio, sa√∫de e apoio social.</p>

            </div>
        </a>




        <a href="Teste2">
            <div class="card cca">
                <span class="material-icons-round" style="font-size: 40px; color: #3498db;">assignment</span>
                <h2>CCA</h2>
                <p>Prazos de matr√≠cula, notas e declara√ß√µes.</p>
            </div>
        </a>


        <a href="Teste2">
            <div class="card biblio">
                <span class="material-icons-round" style="font-size: 40px; color: #f39c12;">menu_book</span>
                <h2>Biblioteca</h2>
                <p>Consulta ao acervo, renova√ß√µes e normas ABNT.</p>

            </div>
        </a>


        <a href="Teste3">
            <div class="card clai">
                <span class="material-icons-round" style="font-size: 40px; color: #8e44ad;">accessibility_new</span>
                <h2>CLAI</h2>
                <p>Suporte de inclus√£o e tecnologias assistivas.</p>
            </div>
        </a>


        <a href="Teste4">
            <div class="card cti">
                <span class="material-icons-round" style="font-size: 40px; color: #2c3e50;">devices</span>
                <h2>CTI</h2>
                <p>Suporte p/ Wi-Fi, E-mail e acesso ao SUAP.</p>

            </div>
        </a>




    </main>
    <script>
        // 1. Registrar o Service Worker
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('./sw.js')
                .then(() => console.log('Service Worker registrado!'));
        }

        // 2. L√≥gica do Bot√£o de Instalar
        let deferredPrompt;
        const installBtn = document.getElementById('bt-instalar');

        window.addEventListener('beforeinstallprompt', (e) => {
            // Previne que o Chrome mostre a barrinha padr√£o feia na hora errada
            e.preventDefault();
            // Salva o evento para usar depois
            deferredPrompt = e;
            // Mostra o nosso bot√£o bonito
            installBtn.style.display = 'block';
        });

        installBtn.addEventListener('click', async () => {
            if (deferredPrompt) {
                // Mostra a janelinha de instala√ß√£o do sistema
                deferredPrompt.prompt();
                // Espera o usu√°rio aceitar ou recusar
                const { outcome } = await deferredPrompt.userChoice;
                console.log(`Usu√°rio escolheu: ${outcome}`);
                // Esconde o bot√£o e limpa a vari√°vel
                deferredPrompt = null;
                installBtn.style.display = 'none';
            }
        });

        // 3. Se j√° estiver instalado, esconde o bot√£o
        window.addEventListener('appinstalled', () => {
            installBtn.style.display = 'none';
            console.log('App instalado com sucesso!');
        });
    </script>

</body>

</html>